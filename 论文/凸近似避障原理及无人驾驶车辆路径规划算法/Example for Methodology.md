## 示例：基于自车与障碍车的可行域计算

假设自车和障碍车的位置及其边界点如下：

1. **障碍车的中心点**：$w = (5, 5)$。
2. **障碍车的边界参考点**（围绕障碍车周围的四个点）：
   - $q_1 = (6, 5)$：右侧
   - $q_2 = (5, 6)$：上方
   - $q_3 = (4, 5)$：左侧
   - $q_4 = (5, 4)$：下方
3. **自车的初始位置**：$p_0 = (0, 0)$。
4. **自车的边界参考点**（定义自车的外观边界）：
   - $p_1 = (1, 0)$：右侧
   - $p_2 = (0, 1)$：上方
   - $p_3 = (-1, 0)$：左侧
   - $p_4 = (0, -1)$：下方

### 步骤 1：构建 $A_c$ 矩阵
矩阵 $A_c$ 的每一行由障碍车的参考点与自车初始位置的差值表示：
$$
A_c = \begin{bmatrix} (q_1 - p_0)^T \\ (q_2 - p_0)^T \\ (q_3 - p_0)^T \\ (q_4 - p_0)^T \end{bmatrix} = \begin{bmatrix} (6, 5) \\ (5, 6) \\ (4, 5) \\ (5, 4) \end{bmatrix}
$$

### 步骤 2：计算 $b_c$ 向量
$b_c$ 由每个障碍车参考点在对应方向上的偏移量构成：
$$
b_c = \begin{bmatrix} (q_1 - p_0)^T q_1 \\ (q_2 - p_0)^T q_2 \\ (q_3 - p_0)^T q_3 \\ (q_4 - p_0)^T q_4 \end{bmatrix}
$$

#### 具体计算每个项：
1. 对于 $q_1 = (6, 5)$：
   $$
   b_c^1 = (6, 5) \cdot (6, 5)^T = 6 \cdot 6 + 5 \cdot 5 = 36 + 25 = 61
   $$

2. 对于 $q_2 = (5, 6)$：
   $$
   b_c^2 = (5, 6) \cdot (5, 6)^T = 5 \cdot 5 + 6 \cdot 6 = 25 + 36 = 61
   $$

3. 对于 $q_3 = (4, 5)$：
   $$
   b_c^3 = (4, 5) \cdot (4, 5)^T = 4 \cdot 4 + 5 \cdot 5 = 16 + 25 = 41
   $$

4. 对于 $q_4 = (5, 4)$：
   $$
   b_c^4 = (5, 4) \cdot (5, 4)^T = 5 \cdot 5 + 4 \cdot 4 = 25 + 16 = 41
   $$

因此：
$$
b_c = \begin{bmatrix} 61 \\ 61 \\ 41 \\ 41 \end{bmatrix}
$$

### 步骤 3：计算 $g$ 向量
$g$ 表示每个方向上的最小安全距离，通过公式 $g^j = \min_{w \in w} A_c^j w$ 计算。假设障碍车的中心点 $w = (5, 5)$：

1. 对于 $A_c^1 = (6, 5)$：
   $$
   g^1 = (6, 5) \cdot (5, 5)^T = 6 \cdot 5 + 5 \cdot 5 = 30 + 25 = 55
   $$

2. 对于 $A_c^2 = (5, 6)$：
   $$
   g^2 = (5, 6) \cdot (5, 5)^T = 5 \cdot 5 + 6 \cdot 5 = 25 + 30 = 55
   $$

3. 对于 $A_c^3 = (4, 5)$：
   $$
   g^3 = (4, 5) \cdot (5, 5)^T = 4 \cdot 5 + 5 \cdot 5 = 20 + 25 = 45
   $$

4. 对于 $A_c^4 = (5, 4)$：
   $$
   g^4 = (5, 4) \cdot (5, 5)^T = 5 \cdot 5 + 4 \cdot 5 = 25 + 20 = 45
   $$

因此：
$$
g = \begin{bmatrix} 55 \\ 55 \\ 45 \\ 45 \end{bmatrix}
$$

### 步骤 4：构造可行域 $P$
代入公式
$$
P = \{ p \in \mathbb{R}^2 : A_c p \leq b_c + g - A_c d_m \}
$$
并假设 $d_m = w = (5, 5)$：

1. 第一行：
   $$
   6p_x + 5p_y \leq 61 + 55 - 55 = 61
   $$

2. 第二行：
   $$
   5p_x + 6p_y \leq 61 + 55 - 55 = 61
   $$

3. 第三行：
   $$
   4p_x + 5p_y \leq 41 + 45 - 45 = 41
   $$

4. 第四行：
   $$
   5p_x + 4p_y \leq 41 + 45 - 45 = 41
   $$

### 最终可行域条件
因此，自车的可行域 $P$ 为：
$$
\begin{cases}
6p_x + 5p_y \leq 61 \\
5p_x + 6p_y \leq 61 \\
4p_x + 5p_y \leq 41 \\
5p_x + 4p_y \leq 41
\end{cases}
$$
